# 3D魔方游戏

一个使用Three.js开发的交互式3D魔方游戏，支持鼠标拖拽旋转、多种难度设置、计时统计等功能。

## 🎮 功能特点

### 核心功能
- **3D可视化**: 使用Three.js渲染逼真的3D魔方
- **鼠标交互**: 支持鼠标拖拽旋转视角和点击旋转魔方面
- **流畅动画**: 魔方旋转带有平滑的缓动动画效果
- **智能打乱**: 基于算法的魔方打乱，确保可解性

### 游戏功能
- **计时系统**: 精确的游戏计时，显示分:秒格式
- **步数统计**: 实时记录玩家的移动步数
- **难度设置**: 三种难度级别（简单/中等/困难）
- **自动还原**: 基于打乱历史的智能还原功能
- **完成检测**: 自动检测魔方是否已完全还原

### 用户体验
- **现代UI**: 美观的渐变背景和毛玻璃效果
- **响应式设计**: 适应不同屏幕尺寸
- **状态提示**: 实时显示游戏状态和操作提示
- **动画切换**: 可选择启用/关闭旋转动画

## 🚀 快速开始

### 运行游戏
1. 确保有网络连接（需要加载Three.js库）
2. 直接打开 `index.html` 文件
3. 或在本地服务器中运行（推荐）

### 基本操作
1. **开始游戏**: 点击"开始新游戏"重置魔方
2. **打乱魔方**: 点击"打乱魔方"开始游戏挑战
3. **旋转魔方**: 点击魔方的任意面进行旋转
4. **调整视角**: 鼠标拖拽旋转视角，滚轮缩放
5. **自动还原**: 打乱后可点击"自动还原"查看解法

## 🎯 游戏规则

### 目标
将魔方的每个面都还原为同一颜色

### 颜色配置
- **前面**: 白色
- **后面**: 黄色  
- **左面**: 橙色
- **右面**: 红色
- **上面**: 绿色
- **下面**: 蓝色

### 难度等级
- **简单**: 10步打乱，适合新手
- **中等**: 20步打乱，中等挑战
- **困难**: 30步打乱，高级挑战

## 🔧 技术实现

### 核心技术
- **Three.js**: 3D图形渲染和场景管理
- **OrbitControls**: 相机控制和用户交互
- **Raycasting**: 鼠标点击检测
- **动画系统**: 自定义缓动函数实现平滑动画

### 关键算法
- **旋转算法**: 基于3D变换矩阵的面旋转
- **状态检测**: 通过颜色匹配判断完成状态
- **打乱算法**: 随机生成可逆的打乱序列
- **还原算法**: 基于打乱历史的逆向操作

### 性能优化
- **对象池**: 复用几何体和材质
- **批量操作**: 合并同类型的渲染调用
- **动画控制**: 可选择关闭动画提升性能
- **响应式渲染**: 根据窗口大小调整渲染质量

## 📁 文件结构

```
3d-rubiks-cube/
├── index.html          # 主页面文件
├── rubiksCube.js       # 核心游戏逻辑
└── README.md           # 项目说明文档
```

## 🎨 自定义选项

### 修改颜色
在 `rubiksCube.js` 中的 `colors` 对象中修改颜色值：
```javascript
const colors = {
    white: 0xffffff,
    yellow: 0xffff00,
    // ... 其他颜色
};
```

### 调整动画速度
修改 `animateRotation` 方法中的 `duration` 值：
```javascript
const duration = 300; // 毫秒
```

### 更改难度设置
在 `getDifficultyMoves` 方法中修改步数：
```javascript
case 'easy': return 10;    // 简单难度步数
case 'medium': return 20;  // 中等难度步数
case 'hard': return 30;    // 困难难度步数
```

## 🐛 故障排除

### 常见问题
1. **魔方不显示**: 检查网络连接，确保Three.js库正常加载
2. **点击无反应**: 确保已点击"打乱魔方"开始游戏
3. **动画卡顿**: 尝试关闭动画或使用性能更好的设备
4. **视角异常**: 点击"重置视角"恢复默认视角

### 浏览器兼容性
- Chrome 60+ ✅
- Firefox 55+ ✅  
- Safari 12+ ✅
- Edge 79+ ✅

## 📝 更新日志

### v1.0.0
- 实现基础3D魔方渲染
- 添加鼠标交互功能
- 实现旋转动画系统
- 添加计时和步数统计
- 实现打乱和还原算法
- 添加多难度设置
- 完成游戏完成检测

## 📄 许可证

MIT License - 详见 LICENSE 文件

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

---

享受3D魔方游戏的乐趣！🎲✨