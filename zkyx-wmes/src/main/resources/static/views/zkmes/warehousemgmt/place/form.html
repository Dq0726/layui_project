<div class="layui-form" lay-filter="zkmes-warehousemgmt-place-form" style="padding: 20px 30px 0 0">
  <div class="layui-form-item">
    <label class="layui-form-label">库位编码<span class="required">*</span></label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="placeId"
          placeholder="请输入"
          value="{{ d.params.placeId || '' }}"
          autocomplete="off"
          class="layui-input"
          {{# if( d.params.placeId != null && d.params.placeId != ''){ }}
		  {{="disabled"}}
          {{# } }}
        />

      </script>
    </div>
  </div>

  <div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label">库位名称<span class="required">*</span></label>
      <div class="layui-input-block">
        <script type="text/html" template>
          <input
            type="text"
            name="placeName"
            placeholder="请输入"
            value="{{ d.params.placeName || '' }}"
            lay-verify="required"
            autocomplete="off"
            class="layui-input"
          />
        </script>
      </div>
    </div>

    <div class="layui-inline">
      <label class="layui-form-label">位置</label>
      <div class="layui-input-block">
        <script type="text/html" template>
          <input
            type="text"
            name="location"
            placeholder="请输入"
            value="{{ d.params.location || '' }}"
            lay-verify="required"
            autocomplete="off"
            class="layui-input"
          />
        </script>
      </div>
    </div>
  </div>

  <div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label">面积</label>
      <div class="layui-input-block">
        <script type="text/html" template>
          <input
            type="text"
            name="area"
            placeholder="请输入"
            value="{{ d.params.area || '' }}"
            autocomplete="off"
            class="layui-input"
          />
        </script>
      </div>
    </div>

    <div class="layui-inline">
      <label class="layui-form-label">负责人</label>
      <div class="layui-input-block">
        <script type="text/html" template>
          <input
            type="text"
            name="head"
            placeholder="请输入"
            value="{{ d.params.head || '' }}"
            autocomplete="off"
            class="layui-input"
          />
        </script>
      </div>
    </div>
  </div>

  <div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label">所属仓库</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <div id="userWarehouseXmselect" class="xm-select-demo"></div>
        </script>
      </div>
    </div>

    <div class="layui-inline">
      <label class="layui-form-label">所属库区</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <div id="userWarehouseareaXmselect" class="xm-select-demo"></div>
        </script>
      </div>
    </div>
  </div>

  <div class="layui-form-item">
    <label class="layui-form-label">是否启用</label>
    <div class="layui-input-inline">
      <script type="text/html" template>
        <input type="checkbox" name="status"
        lay-filter="zkmes-warehousemgmt-warehouse-form-status" lay-skin="switch"
        lay-text="ON|OFF" {{d.params.status == 0 ? 'checked' : '' }} >
      </script>
    </div>
  </div>

  <div class="layui-form-item">
    <label class="layui-form-label">备注</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <textarea
          type="text"
          name="remark"
          autocomplete="off"
          class="layui-textarea"
        >
{{ d.params.remark || '' }}</textarea
        >
      </script>
    </div>
  </div>

  <div class="layui-form-item">
    <label class="layui-form-label"></label>
    <div class="layui-input-inline">
      <input type="button" id="zkmes-warehousemgmt-place-form-submit" lay-submit
        lay-filter="zkmes-warehousemgmt-place-form-submit" value="确认" class="layui-btn" />
    </div>
  </div>
</div>

<script type="text/html" template lay-done="layui.data.sendZkmesWarehousemanagePlaceFormParams(d.params)"></script>

<script>
  layui.data.sendZkmesWarehousemanagePlaceFormParams = function (params) {
    layui.use(["admin", "form", "xmSelect"], function () {
      var $ = layui.$,
        admin = layui.admin,
        view = layui.view,
        form = layui.form,
        xmSelect = layui.xmSelect;

      var warehouseId = params.warehouseId + "";
      if (warehouseId) {
        warehouseId = warehouseId.split(",");
      }

      var warehouseareaId = params.warehouseareaId + "";
      if (warehouseareaId) {
        warehouseareaId = warehouseareaId.split(",");
      }

      admin.req({
        url: "/zkmes/warehousemgmt/warehouse/list1",
        type: "get",
        contentType: "application/json;charset=UTF-8",
        done: function (res) {
          userWarehouseXmselect = xmSelect.render({
            el: "#userWarehouseXmselect",
            name: "warehouseId",
            data: res.data,
            radio: true,
            initValue: warehouseId,
            tree: {
              //是否严格遵守父子模式
              strict: true,
              show: true,
            },
            prop: {
              name: "warehouseName",
              value: "warehouseId",
              children: "children",
            },
          });
        },
      });

      admin.req({
        url: "/zkmes/warehousemgmt/warehousearea/list1",
        type: "get",
        contentType: "application/json;charset=UTF-8",
        done: function (res) {
          userWarehouseareaXmselect = xmSelect.render({
            el: "#userWarehouseareaXmselect",
            name: "warehouseareaId",
            data: res.data,
            radio: true,
            initValue: warehouseareaId,
            tree: {
              //是否严格遵守父子模式
              strict: true,
              show: true,
            },
            prop: {
              name: "warehouseareaName",
              value: "warehouseareaId",
              children: "children",
            },
          });
        },
      });
    });
  };

  layui.use(["admin", "form", "xmSelect"], function () {
    var $ = layui.$,
      admin = layui.admin,
      view = layui.view,
      form = layui.form,
      xmSelect = layui.xmSelect;
  });
</script>