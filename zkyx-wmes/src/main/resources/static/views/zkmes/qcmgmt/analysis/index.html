<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>质量分析</title>

    <style>
      /* 优化后的CSS */
      .todo-list {
        --card-height: 200px;
        --card-spacing: 15px;
      }

      .todo-list .layui-col-xs3 {
        height: var(--card-height);
      }

      .todo-card {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
        background: #f5f5f5;
        border-radius: 4px;
        transition: all 0.3s ease;
      }

      .todo-card:hover {
        background: #eee;
        transform: translateY(-3px);
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      }

      .todo-card h3 {
        font-size: 16px;
        color: #333;
        margin: 0 0 15px;
        font-weight: 500;
      }

      .todo-card cite {
        font-size: 28px;
        font-style: normal;
        color: #2f4056;
        font-weight: 600;
      }

      .chart-container {
        height: 300px;
        padding: 15px;
      }
    </style>
  </head>
  <body>
  <div class="layui-card layadmin-header">
  <div class="layui-breadcrumb" lay-filter="breadcrumb">
    <a lay-href="">主页</a>
    <a><cite>质量管理</cite></a>
    <a><cite>质量分析</cite></a>
  </div>
</div>
    <div class="layui-fluid">
      <div class="layui-row layui-col-space15">
        <!-- 待办事项 -->
        <div class="layui-col-md12">
          <div class="layui-card">
            <div class="layui-card-header">数据概览</div>
            <div class="layui-card-body todo-list">
              <div class="layui-row layui-col-space10">
                <div class="layui-col-xs3">
                  <a class="todo-card">
                    <h3>报检单数</h3>
                    <p><cite>66</cite></p>
                  </a>
                </div>
                <div class="layui-col-xs3">
                  <a class="todo-card">
                    <h3>产品出货数</h3>
                    <p><cite>12</cite></p>
                  </a>
                </div>
                <div class="layui-col-xs3">
                  <a class="todo-card">
                    <h3>合格数量</h3>
                    <p><cite>99</cite></p>
                  </a>
                </div>
                <div class="layui-col-xs3">
                  <a class="todo-card">
                    <h3>不合格数量</h3>
                    <p><cite>20</cite></p>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 图表区域 -->
        <div class="layui-col-md12">
          <div class="layui-row layui-col-space15">
            <div class="layui-col-md6">
              <div class="layui-card">
                <div class="layui-card-header">人为失误数量分析</div>
                <div class="layui-card-body">
                  <div class="chart-container" id="userChart9"></div>
                </div>
              </div>
            </div>
            <div class="layui-col-md6">
              <div class="layui-card">
                <div class="layui-card-header">产品不合格原因</div>
                <div class="layui-card-body">
                  <div class="chart-container" id="salesChart10"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
         <!-- 图表区域 -->
        <div class="layui-col-md12">
          <div class="layui-row layui-col-space15">
            <div class="layui-col-md6">
              <div class="layui-card">
                <div class="layui-card-header">来料检验不合格统计</div>
                <div class="layui-card-body">
                  <div class="chart-container" id="userChart11"></div>
                </div>
              </div>
            </div>
            <div class="layui-col-md6">
              <div class="layui-card">
                <div class="layui-card-header">工序检验不合格统计</div>
                <div class="layui-card-body">
                  <div class="chart-container" id="userChart12"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      layui.use(["admin", "echarts"], function () {
        const $ = layui.$;
        const echarts = layui.echarts;

        // 初始化用户增长图表
        const initUserChart9 = () => {
          const chart9 = echarts.init(document.getElementById("userChart9"));
          const option9 = {
            title: {
              left: "center",
              textStyle: {
                fontSize: 14,
                color: "#666",
              },
            },
            tooltip: {
              trigger: "axis",
              formatter: "{b}<br/>数量：{c}",
            },
            xAxis: {
              type: "category",
              data: [
                "11-07",
                "11-08",
                "11-09",
                "11-10",
                "11-11",
                "11-12",
                "11-13",
              ],
              axisLabel: {
                color: "#666",
              },
            },
            yAxis: {
              type: "value",
              axisLabel: {
                color: "#666",
              },
            },
            series: [
              {
                type: "line",
                data: [11, 30, 10, 10, 15, 17, 10],
                smooth: true,
                lineStyle: {
                  color: "#5B8FF9",
                  width: 3,
                },
                areaStyle: {
                  color: "rgba(91, 143, 249, 0.1)",
                },
              },
            ],
          };
          chart9.setOption(option9);

          // 响应式调整
          window.addEventListener("resize", () => chart9.resize());
        };

        // 初始化销售图表（示例结构）
        const initSalesChart10 = () => {
          const chart10 = echarts.init(document.getElementById("salesChart10"));
          const option10 = {
        		  tooltip: {
      			    trigger: 'item'
      			  },
      			  legend: {
      			    top: '5%',
      			    left: 'center'
      			  },
      			  series: [
      			    {
      			      name: 'Access From',
      			      type: 'pie',
      			      radius: ['40%', '70%'],
      			      avoidLabelOverlap: false,
      			      itemStyle: {
      			        borderRadius: 10,
      			        borderColor: '#fff',
      			        borderWidth: 2
      			      },
      			      label: {
      			        show: false,
      			        position: 'center'
      			      },
      			      emphasis: {
      			        label: {
      			          show: true,
      			          fontSize: 40,
      			          fontWeight: 'bold'
      			        }
      			      },
      			      labelLine: {
      			        show: false
      			      },
      			      data: [
      			        { value: 1, name: '设计缺陷' },
      			        { value: 1, name: '设备故障' },
      			        { value: 1, name: '原材料不达标' },
      			      ]
      			    }
      			  ]
                };
          chart10.setOption(option10);
        };
        const initUserChart11 = () => {
            const chart11 = echarts.init(document.getElementById("userChart11"));
            const option11 = {
              title: {
                left: "center",
                textStyle: {
                  fontSize: 14,
                  color: "#666",
                },
              },
              tooltip: {
                trigger: "axis",
                formatter: "{b}<br/>数量：{c}",
              },
              xAxis: {
                type: "category",
                data: [
                  "11-07",
                  "11-08",
                  "11-09",
                  "11-10",
                  "11-11",
                  "11-12",
                  "11-13",
                ],
                axisLabel: {
                  color: "#666",
                },
              },
              yAxis: {
                type: "value",
                axisLabel: {
                  color: "#666",
                },
              },
              series: [
                {
                  type: "line",
                  data: [2, 0, 0, 1, 1, 2, 0],
                  smooth: true,
                  lineStyle: {
                    color: "#5B8FF9",
                    width: 3,
                  },
                  areaStyle: {
                    color: "rgba(91, 143, 249, 0.1)",
                  },
                },
              ],
            };
            chart11.setOption(option11);

            // 响应式调整
            window.addEventListener("resize", () => chart11.resize());
          };
          const initUserChart12 = () => {
              const chart12 = echarts.init(document.getElementById("userChart12"));
              const option12 = {
                title: {
                  left: "center",
                  textStyle: {
                    fontSize: 14,
                    color: "#666",
                  },
                },
                tooltip: {
                  trigger: "axis",
                  formatter: "{b}<br/>数量：{c}",
                },
                xAxis: {
                  type: "category",
                  data: [
                    "11-07",
                    "11-08",
                    "11-09",
                    "11-10",
                    "11-11",
                    "11-12",
                    "11-13",
                  ],
                  axisLabel: {
                    color: "#666",
                  },
                },
                yAxis: {
                  type: "value",
                  axisLabel: {
                    color: "#666",
                  },
                },
                series: [
                  {
                    type: "line",
                    data: [2, 3, 4, 6, 1, 2, 3],
                    smooth: true,
                    lineStyle: {
                      color: "#5B8FF9",
                      width: 3,
                    },
                    areaStyle: {
                      color: "rgba(91, 143, 249, 0.1)",
                    },
                  },
                ],
              };
              chart12.setOption(option12);

              // 响应式调整
              window.addEventListener("resize", () => chart12.resize());
            };
        // 执行初始化
        initUserChart9();
        initSalesChart10();
        initUserChart11();
        initUserChart12();
      });
    </script>
  </body>
</html>
