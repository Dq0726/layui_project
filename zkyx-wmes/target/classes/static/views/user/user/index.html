<div class="layui-card layadmin-header">
  <div class="layui-breadcrumb" lay-filter="breadcrumb">
    <a lay-href="">主页</a>
    <a><cite>用户</cite></a>
    <a><cite>用户管理</cite></a>
  </div>
</div>

<div class="layui-fluid">   
  <div class="layui-card"> 
    <div class="layui-card-body">
     
      <table id="user-user-table" lay-filter="user-user-table"></table>  
 
 	  <script type="text/html" id="user-user-toolbar-head">
	    <div class="layui-btn-container"> 
		  <button class="layui-btn layui-btn-sm" lay-event="add">新增角色</button> 
		  <button class="layui-btn layui-btn-sm" lay-event="refresh">刷新</button>
	    </div>
	  </script>
	  
	  
      <script type="text/html" id="user-user-toolbar-row">
        <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="edit"><i class="layui-icon layui-icon-edit"></i>编辑</a>
        {{#  if(d.role == '超级管理员'){ }}
          <a class="layui-btn layui-btn-disabled layui-btn-xs"><i class="layui-icon layui-icon-delete"></i>删除</a>
        {{#  } else { }}
          <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del"><i class="layui-icon layui-icon-delete"></i>删除</a>
        {{#  } }}
      </script>
    </div>
  </div>
</div>

<script>
layui.use('user', layui.factory('user')).use(['admin', 'user', 'table'], function(){
  var $ = layui.$
  ,admin = layui.admin
  ,view = layui.view
  ,table = layui.table
  ,form = layui.form;
  
  form.render(null, 'layadmin-user-formlist');
  
  //搜索
  form.on('submit(LAY-user-back-search)', function(data){
    var field = data.field;
    
    //执行重载
    table.reload('user-user-table', {
      where: field
    });
  });

  
});
</script>