<div class="layui-form" lay-filter="system-menu-edit-form" style="pediting: 20px 30px 0 0">
  <div class="layui-form-item">
    <label class="layui-form-label">菜单名称</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="menuId"
          placeholder="请输入"
          style="display: none"
          value="{{ d.params.menuId || '' }}"
          autocomplete="off"
          class="layui-input"
        />
        <input
          type="text"
          name="menuName"
          placeholder="请输入"
          lay-verify="required"
          value="{{ d.params.menuName || '' }}"
          autocomplete="off"
          class="layui-input"
        />
      </script>
    </div>
  </div>

  <div class="layui-form-item">
    <label class="layui-form-label">菜单类型</label>
    <div class="layui-input-block">
      <input type="radio" name="menuType" value="M" lay-filter="system-menu-edit-menu-radio-filter" title="目录" />
      <input type="radio" name="menuType" value="C" lay-filter="system-menu-edit-menu-radio-filter" title="菜单" />
      <input type="radio" name="menuType" value="F" lay-filter="system-menu-edit-menu-radio-filter" title="按钮" />
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-icon">
    <label class="layui-form-label">菜单图标</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="icon"
          placeholder="请输入"
          value="{{ d.params.icon || '' }}"
          autocomplete="off"
          class="layui-input"
        />
      </script>
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-orderNum">
    <label class="layui-form-label">显示排序</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="orderNum"
          placeholder="请输入"
          value="{{ d.params.orderNum || '' }}"
          autocomplete="off"
          class="layui-input"
        />
      </script>
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-path">
    <label class="layui-form-label">路由地址</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="path"
          placeholder="请输入"
          value="{{ d.params.path || '' }}"
          autocomplete="off"
          class="layui-input"
        />
      </script>
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-component">
    <label class="layui-form-label">组件路径</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="component"
          placeholder="请输入"
          value="{{ d.params.component || '' }}"
          autocomplete="off"
          class="layui-input"
        />
      </script>
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-query">
    <label class="layui-form-label">路由参数</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="query"
          placeholder="请输入"
          value="{{ d.params.query || '' }}"
          autocomplete="off"
          class="layui-input"
        />
      </script>
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-perms">
    <label class="layui-form-label">权限字符</label>
    <div class="layui-input-block">
      <script type="text/html" template>
        <input
          type="text"
          name="perms"
          placeholder="请输入"
          value="{{ d.params.perms || '' }}"
          autocomplete="off"
          class="layui-input"
        />
      </script>
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-isFrame">
    <label class="layui-form-label">是否外链</label>
    <div class="layui-input-block">
      <input type="radio" name="isFrame" value="0" lay-filter="system-menu-edit-isFrame-radio-filter" title="是" />
      <input
        type="radio"
        name="isFrame"
        value="1"
        lay-filter="system-menu-edit-isFrame-radio-filter"
        title="否"
        checked
      />
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-visible">
    <label class="layui-form-label">显示状态</label>
    <div class="layui-input-block">
      <input
        type="radio"
        name="visible"
        value="0"
        lay-filter="system-menu-edit-visible-radio-filter"
        title="显示"
        checked
      />
      <input type="radio" name="visible" value="1" lay-filter="system-menu-edit-visible-radio-filter" title="隐藏" />
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-status">
    <label class="layui-form-label">菜单状态</label>
    <div class="layui-input-block">
      <input
        type="radio"
        name="status"
        value="0"
        lay-filter="system-menu-edit-status-radio-filter"
        title="正常"
        checked
      />
      <input type="radio" name="status" value="1" lay-filter="system-menu-edit-status-radio-filter" title="停用" />
    </div>
  </div>

  <div class="layui-form-item" id="system-menu-edit-form-isCache">
    <label class="layui-form-label">是否缓存</label>
    <div class="layui-input-block">
      <input
        type="radio"
        name="isCache"
        value="0"
        lay-filter="system-menu-edit-isCache-radio-filter"
        title="缓存"
        checked
      />
      <input type="radio" name="isCache" value="1" lay-filter="system-menu-edit-isCache-radio-filter" title="不缓存" />
    </div>
  </div>

  <!--  
  <div class="layui-form-item">
    <label class="layui-form-label">备注</label>
    <div class="layui-input-block">
      <script type="text/html" template>
       <textarea type="text" name="remarks" autocomplete="off" class="layui-textarea">{{ d.params.remarks || '' }}</textarea>
     </script>
    </div>
  </div>
  -->

  <div class="layui-form-item">
    <label class="layui-form-label"></label>
    <div class="layui-input-inline">
      <input type="button" lay-submit lay-filter="system-menu-edit-form-submit" value="确认" class="layui-btn" />
    </div>
  </div>
</div>

<script type="text/html" template lay-done="systemMenuEditmenuRadioDone(d.params)"></script>

<script>
	systemMenuEditmenuRadioDone = function (params) {
    layui.use(["admin", "form"], function () {
      var $ = layui.$,
        form = layui.form;

      form.val("system-menu-edit-form", {
        menuType: params.menuType,
        isFrame: params.isFrame,
        visible: params.visible,
        status: params.status,
        isCache: params.isCache,
      });

      DoMenu(params.menuType);

      form.render();
    });
  };

  layui.use(["admin", "form"], function () {
    var $ = layui.$,
      form = layui.form;

    form.on("radio(system-menu-edit-menu-radio-filter)", function (data) {
      var elem = data.elem; // 获得 radio 原始 DOM 对象
      var checked = elem.checked; // 获得 radio 选中状态
      var value = elem.value; // 获得 radio 值
      var othis = data.othis; // 获得 radio 元素被替换后的 jQuery 对象

      DoMenu(value);
    });

    DoMenu = function (value) {
      if (value == "M") {
        $("#system-menu-edit-form-icon").show();
        $("#system-menu-edit-form-orderNum").show();
        $("#system-menu-edit-form-component").show();
        $("#system-menu-edit-form-path").show();
        $("#system-menu-edit-form-query").hide();
        $("#system-menu-edit-form-isFrame").show();
        $("#system-menu-edit-form-visible").show();
        $("#system-menu-edit-form-status").show();
        $("#system-menu-edit-form-perms").hide();
        $("#system-menu-edit-form-isCache").hide();
      } else if (value == "C") {
        $("#system-menu-edit-form-icon").show();
        $("#system-menu-edit-form-orderNum").show();
        $("#system-menu-edit-form-component").show();
        $("#system-menu-edit-form-path").show();
        $("#system-menu-edit-form-query").show();
        $("#system-menu-edit-form-isFrame").show();
        $("#system-menu-edit-form-visible").show();
        $("#system-menu-edit-form-status").show();
        $("#system-menu-edit-form-perms").show();
        $("#system-menu-edit-form-isCache").show();
      } else if (value == "F") {
        $("#system-menu-edit-form-icon").show();
        $("#system-menu-edit-form-orderNum").show();
        $("#system-menu-edit-form-component").hide();
        $("#system-menu-edit-form-path").hide();
        $("#system-menu-edit-form-query").hide();
        $("#system-menu-edit-form-isFrame").hide();
        $("#system-menu-edit-form-visible").hide();
        $("#system-menu-edit-form-status").show();
        $("#system-menu-edit-form-perms").show();
        $("#system-menu-edit-form-isCache").hide();
      }
    };
  });
</script>
