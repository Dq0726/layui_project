layui.define(["form","upload"],function(d){var e=layui.$,f=layui.layer,g=layui.laytpl,b=layui.setter,h=layui.view,j=layui.admin,a=layui.form,k=layui.upload;var c=e("body");a.render();a.verify({nickname:function(m,l){if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(m)){return"用户名不能有特殊字符"}if(/(^\_)|(\__)|(\_+$)/.test(m)){return"用户名首尾不能出现下划线'_'"}if(/^\d+\d+\d$/.test(m)){return"用户名不能全为数字"}},pass:[/^[\S]{6,12}$/,"密码必须6到12位，且不能出现空格"],repass:function(l){if(l!==e("#LAY_password").val()){return"两次密码输入不一致"}}});a.on("submit(set_website)",function(l){f.alert(layui.util.escape(JSON.stringify(l.field)));return false});a.on("submit(set_system_email)",function(l){f.alert(layui.util.escape(JSON.stringify(l.field)));return false});a.on("submit(setmyinfo)",function(l){f.alert(layui.util.escape(JSON.stringify(l.field)));return false});var i=e("#LAY_avatarSrc");k.render({url:"/api/upload/",elem:"#LAY_avatarUpload",done:function(l){if(l.status==0){i.val(l.url)}else{f.msg(l.msg,{icon:5})}}});j.events.avartatPreview=function(l){var m=i.val();f.photos({photos:{title:"查看头像",data:[{src:m}]},shade:0.01,closeBtn:1,anim:5})};a.on("submit(setmypass)",function(m){var l=m.field;f.msg("ok");return false});d("set",{})});