layui.define("admin",function(g){var f=layui.setter;var i=layui.element;var m=layui.admin;var l=m.tabsPage;var k=layui.view;var b=function(){var o=layui.hash();var q=o.path;var n=m.correctRouter(o.path.join("/"));if(!q.length){q=[""]}if(q[q.length-1]===""){q[q.length-1]=f.entry}var p=function(r){if(b.haveInit){h(".layui-layer").each(function(){var t=h(this),s=t.attr("times");if(!(t.hasClass("layui-layim")||t.hasClass("layui-layim-chat"))){layer.close(s)}})}b.haveInit=true;h(e).scrollTop(0);delete l.type};if(l.type==="tab"){if(n!=="/"||(n==="/"&&m.tabsBody().html())){m.tabsBodyChange(l.index);return p(l.type)}}k().render(q.join("/")).then(function(s){var t;var r=h("#LAY_app_tabsheader>li");r.each(function(v){var u=h(this);var w=u.attr("lay-id");if(w===n){t=true;l.index=v}});if(f.pageTabs&&n!=="/"){if(!t){h(e).append('<div class="layadmin-tabsbody-item layui-show"></div>');l.index=r.length;i.tabAdd(j,{title:"<span>"+(s.title||"新标签页")+"</span>",id:n,attr:o.href})}}this.container=m.tabsBody(l.index);f.pageTabs||this.container.scrollTop(0);i.tabChange(j,n);m.tabsBodyChange(l.index)}).done(function(){layui.use("common",layui.cache.callback.common);c.on("resize",layui.data.resize);i.render("breadcrumb","breadcrumb");m.tabsBody(l.index).on("scroll",function(){var t=h(this);var s=h(".layui-laydate");var r=h(".layui-layer")[0];if(s[0]){s.each(function(){var u=h(this);u.hasClass("layui-laydate-static")||u.remove()});t.find("input").blur()}r&&layer.closeAll("tips")})});p()};var d=function(s){var p=layui.hash();var o=k(f.container);var n=m.correctRouter(p.path.join("/"));var r;layui.each(f.indPage,function(t,u){if(n===u){return r=true}});layui.config({base:f.paths.base+"modules/"});if(r||n==="/uia/login"){o.render(p.path.join("/")).done(function(){m.pageType="alone"})}else{if(f.interceptor){var q=layui.data(f.tableName);if(!q[f.request.tokenName]){return location.hash="/uia/login/redirect="+encodeURIComponent(p.href||"")}}if(m.pageType==="console"){b()}else{o.render("layout").done(function(){if(!a.firstSymbolEXP.test(location.hash)){location.hash="/"+location.hash}b();layui.element.render();if(m.screen()<2){m.sideFlexible()}m.pageType="console"})}}};var e="#LAY_app_body";var j="layadmin-layout-tabs";var h=layui.$;var c=h(window);layui.link(f.paths.core+"css/admin.css?v="+m.v,function(){d()},"layuiAdmin");window.onhashchange=function(){if(!a.firstSymbolEXP.test(location.hash)){return}d();layui.event.call(this,f.MOD_NAME,"hash({*})",layui.hash())};var a={firstSymbolEXP:/^#\//,render:b};h.extend(m,a);g("adminIndex",a)});